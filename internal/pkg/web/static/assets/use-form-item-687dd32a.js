import{v as p,g as f,bT as m,p as I,P as h,n as l,r as i,a0 as E,t as w,aW as j}from"./index-04406ec4.js";import{b as y,f as $}from"./use-form-common-props-9dfb5ff5.js";class P extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function _(n,e){throw new P(`[${n}] ${e}`)}function g(n,e){}const T=({from:n,replacement:e,scope:r,version:u,ref:s,type:o="API"},c)=>{p(()=>f(c),t=>{},{immediate:!0})},v={prefix:Math.floor(Math.random()*1e4),current:0},D=Symbol("elIdInjection"),F=()=>h()?l(D,v):v,K=n=>{const e=F(),r=m();return I(()=>f(n)||`${r.value}-id-${e.prefix}-${e.current++}`)},U=()=>{const n=l(y,void 0),e=l($,void 0);return{form:n,formItem:e}},W=(n,{formItemContext:e,disableIdGeneration:r,disableIdManagement:u})=>{r||(r=i(!1)),u||(u=i(!1));const s=i();let o;const c=I(()=>{var t;return!!(!n.label&&e&&e.inputIds&&((t=e.inputIds)==null?void 0:t.length)<=1)});return E(()=>{o=p([w(n,"id"),r],([t,d])=>{const a=t??(d?void 0:K().value);a!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(u!=null&&u.value)&&!d&&a&&e.addInputId(a)),s.value=a)},{immediate:!0})}),j(()=>{o&&o(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:c,inputId:s}};export{T as a,U as b,W as c,g as d,F as e,_ as t,K as u};
