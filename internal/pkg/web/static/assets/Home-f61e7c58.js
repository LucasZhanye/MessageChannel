import{j as be,k as se,m as T,_ as Z,d as j,r as $,n as K,p as M,q as oe,s as sn,t as le,g as Y,v as ne,x as ln,y as W,z as L,o as G,A as X,w as I,f as E,B as an,C as rn,D as Ge,F as ue,G as He,H as q,I as un,J as cn,K as _e,c as ee,L as dn,M as re,N as te,O as $e,P as ce,e as V,Q as Ue,R as Se,S as Ie,T as pn,U as We,V as de,W as mn,X as me,Y as Ce,Z as fn,$ as vn,a as ke,a0 as we,a1 as U,a2 as hn,a3 as gn,a4 as fe,a5 as De,a6 as ae,a7 as bn,a8 as _n,a9 as In,aa as wn,ab as yn,i as Te,ac as Ve,u as Cn,b as Mn,ad as En,ae as $n,af as Sn,ag as Tn,ah as kn,ai as On,E as Nn,aj as Fn,ak as Rn,al as Pn,am as Bn}from"./index-6239247c.js";import{c as Ye}from"./el-tooltip-d5f14f47.js";import{c as x,E as Oe,O as Dn,w as ze,F as zn}from"./el-popper-a53d7281.js";import{E as je,T as An}from"./el-button-8c65751f.js";import{E as Ln}from"./el-scrollbar-9348991e.js";/* empty css                */import{c as Kn,E as Gn,d as Hn,a as Je,C as Un,b as Wn,e as Vn,f as Yn,g as jn,F as Jn,L as qn,_ as xn}from"./dropdown-4965e509.js";import{u as qe,a as Zn,t as ge}from"./use-form-item-5c7ee7ac.js";import{f as Qn}from"./vnode-50c1979d.js";import{u as Xn,i as Ae}from"./use-form-common-props-2644540a.js";import{c as eo}from"./castArray-a30e3067.js";const he=function(e,n,...o){let t;n.includes("mouse")||n.includes("click")?t="MouseEvents":n.includes("key")?t="KeyboardEvent":t="HTMLEvents";const l=document.createEvent(t);return l.initEvent(n,...o),e.dispatchEvent(l),e},no=be({style:{type:se([String,Array,Object])},currentTabId:{type:se(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:se(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:oo,ElCollectionItem:to,COLLECTION_INJECTION_KEY:Ne,COLLECTION_ITEM_INJECTION_KEY:so}=Kn("RovingFocusGroup"),Fe=Symbol("elRovingFocusGroup"),xe=Symbol("elRovingFocusGroupItem"),lo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ao=(e,n)=>{if(n!=="rtl")return e;switch(e){case T.right:return T.left;case T.left:return T.right;default:return e}},ro=(e,n,o)=>{const t=ao(e.key,o);if(!(n==="vertical"&&[T.left,T.right].includes(t))&&!(n==="horizontal"&&[T.up,T.down].includes(t)))return lo[t]},io=(e,n)=>e.map((o,t)=>e[(t+n)%e.length]),Re=e=>{const{activeElement:n}=document;for(const o of e)if(o===n||(o.focus(),n!==document.activeElement))return},Le="currentTabIdChange",Ke="rovingFocusGroup.entryFocus",uo={bubbles:!1,cancelable:!0},co=j({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:no,emits:[Le,"entryFocus"],setup(e,{emit:n}){var o;const t=$((o=e.currentTabId||e.defaultCurrentTabId)!=null?o:null),l=$(!1),m=$(!1),a=$(null),{getItems:u}=K(Ne,void 0),r=M(()=>[{outline:"none"},e.style]),p=g=>{n(Le,g)},f=()=>{l.value=!0},v=x(g=>{var _;(_=e.onMousedown)==null||_.call(e,g)},()=>{m.value=!0}),w=x(g=>{var _;(_=e.onFocus)==null||_.call(e,g)},g=>{const _=!Y(m),{target:k,currentTarget:O}=g;if(k===O&&_&&!Y(l)){const H=new Event(Ke,uo);if(O==null||O.dispatchEvent(H),!H.defaultPrevented){const N=u().filter(F=>F.focusable),D=N.find(F=>F.active),S=N.find(F=>F.id===Y(t)),A=[D,S,...N].filter(Boolean).map(F=>F.ref);Re(A)}}m.value=!1}),i=x(g=>{var _;(_=e.onBlur)==null||_.call(e,g)},()=>{l.value=!1}),h=(...g)=>{n("entryFocus",...g)};oe(Fe,{currentTabbedId:sn(t),loop:le(e,"loop"),tabIndex:M(()=>Y(l)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:r,orientation:le(e,"orientation"),dir:le(e,"dir"),onItemFocus:p,onItemShiftTab:f,onBlur:i,onFocus:w,onMousedown:v}),ne(()=>e.currentTabId,g=>{t.value=g??null}),ln(a,Ke,h)}});function po(e,n,o,t,l,m){return W(e.$slots,"default")}var mo=Z(co,[["render",po],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const fo=j({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:oo,ElRovingFocusGroupImpl:mo}});function vo(e,n,o,t,l,m){const a=L("el-roving-focus-group-impl"),u=L("el-focus-group-collection");return G(),X(u,null,{default:I(()=>[E(a,an(rn(e.$attrs)),{default:I(()=>[W(e.$slots,"default")]),_:3},16)]),_:3})}var ho=Z(fo,[["render",vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const go=j({components:{ElRovingFocusCollectionItem:to},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:n}){const{currentTabbedId:o,loop:t,onItemFocus:l,onItemShiftTab:m}=K(Fe,void 0),{getItems:a}=K(Ne,void 0),u=qe(),r=$(null),p=x(i=>{n("mousedown",i)},i=>{e.focusable?l(Y(u)):i.preventDefault()}),f=x(i=>{n("focus",i)},()=>{l(Y(u))}),v=x(i=>{n("keydown",i)},i=>{const{key:h,shiftKey:g,target:_,currentTarget:k}=i;if(h===T.tab&&g){m();return}if(_!==k)return;const O=ro(i);if(O){i.preventDefault();let N=a().filter(D=>D.focusable).map(D=>D.ref);switch(O){case"last":{N.reverse();break}case"prev":case"next":{O==="prev"&&N.reverse();const D=N.indexOf(k);N=t.value?io(N,D+1):N.slice(D+1);break}}Ge(()=>{Re(N)})}}),w=M(()=>o.value===Y(u));return oe(xe,{rovingFocusGroupItemRef:r,tabIndex:M(()=>Y(w)?0:-1),handleMousedown:p,handleFocus:f,handleKeydown:v}),{id:u,handleKeydown:v,handleFocus:f,handleMousedown:p}}});function bo(e,n,o,t,l,m){const a=L("el-roving-focus-collection-item");return G(),X(a,{id:e.id,focusable:e.focusable,active:e.active},{default:I(()=>[W(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var _o=Z(go,[["render",bo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const ye=Symbol("elDropdown"),{ButtonGroup:Io}=je,wo=j({name:"ElDropdown",components:{ElButton:je,ElButtonGroup:Io,ElScrollbar:Ln,ElDropdownCollection:Gn,ElTooltip:Oe,ElRovingFocusGroup:ho,ElOnlyChild:Dn,ElIcon:ue,ArrowDown:He},props:Hn,emits:["visible-change","click","command"],setup(e,{emit:n}){const o=ce(),t=q("dropdown"),{t:l}=un(),m=$(),a=$(),u=$(null),r=$(null),p=$(null),f=$(null),v=$(!1),w=[T.enter,T.space,T.down],i=M(()=>({maxHeight:cn(e.maxHeight)})),h=M(()=>[t.m(D.value)]),g=M(()=>eo(e.trigger)),_=qe().value,k=M(()=>e.id||_);ne([m,g],([s,y],[B])=>{var J,pe,Be;(J=B==null?void 0:B.$el)!=null&&J.removeEventListener&&B.$el.removeEventListener("pointerenter",z),(pe=s==null?void 0:s.$el)!=null&&pe.removeEventListener&&s.$el.removeEventListener("pointerenter",z),(Be=s==null?void 0:s.$el)!=null&&Be.addEventListener&&y.includes("hover")&&s.$el.addEventListener("pointerenter",z)},{immediate:!0}),_e(()=>{var s,y;(y=(s=m.value)==null?void 0:s.$el)!=null&&y.removeEventListener&&m.value.$el.removeEventListener("pointerenter",z)});function O(){H()}function H(){var s;(s=u.value)==null||s.onClose()}function N(){var s;(s=u.value)==null||s.onOpen()}const D=Xn();function S(...s){n("command",...s)}function z(){var s,y;(y=(s=m.value)==null?void 0:s.$el)==null||y.focus()}function A(){}function F(){const s=Y(r);g.value.includes("hover")&&(s==null||s.focus()),f.value=null}function Q(s){f.value=s}function c(s){v.value||(s.preventDefault(),s.stopImmediatePropagation())}function d(){n("visible-change",!0)}function b(s){(s==null?void 0:s.type)==="keydown"&&r.value.focus()}function R(){n("visible-change",!1)}return oe(ye,{contentRef:r,role:M(()=>e.role),triggerId:k,isUsingKeyboard:v,onItemEnter:A,onItemLeave:F}),oe("elDropdown",{instance:o,dropdownSize:D,handleClick:O,commandHandler:S,trigger:le(e,"trigger"),hideOnClick:le(e,"hideOnClick")}),{t:l,ns:t,scrollbar:p,wrapStyle:i,dropdownTriggerKls:h,dropdownSize:D,triggerId:k,triggerKeys:w,currentTabId:f,handleCurrentTabIdChange:Q,handlerMainButtonClick:s=>{n("click",s)},handleEntryFocus:c,handleClose:H,handleOpen:N,handleBeforeShowTooltip:d,handleShowTooltip:b,handleBeforeHideTooltip:R,onFocusAfterTrapped:s=>{var y,B;s.preventDefault(),(B=(y=r.value)==null?void 0:y.focus)==null||B.call(y,{preventScroll:!0})},popperRef:u,contentRef:r,triggeringElementRef:m,referenceElementRef:a}}});function yo(e,n,o,t,l,m){var a;const u=L("el-dropdown-collection"),r=L("el-roving-focus-group"),p=L("el-scrollbar"),f=L("el-only-child"),v=L("el-tooltip"),w=L("el-button"),i=L("arrow-down"),h=L("el-icon"),g=L("el-button-group");return G(),ee("div",{class:te([e.ns.b(),e.ns.is("disabled",e.disabled)])},[E(v,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},dn({content:I(()=>[E(p,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:I(()=>[E(r,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:I(()=>[E(u,null,{default:I(()=>[W(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:I(()=>[E(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:I(()=>[W(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(G(),X(g,{key:0},{default:I(()=>[E(w,re({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:I(()=>[W(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),E(w,re({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:I(()=>[E(h,{class:te(e.ns.e("icon"))},{default:I(()=>[E(i)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):$e("v-if",!0)],2)}var Co=Z(wo,[["render",yo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const Mo=j({name:"DropdownItemImpl",components:{ElIcon:ue},props:Je,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:n}){const o=q("dropdown"),{role:t}=K(ye,void 0),{collectionItemRef:l}=K(Un,void 0),{collectionItemRef:m}=K(so,void 0),{rovingFocusGroupItemRef:a,tabIndex:u,handleFocus:r,handleKeydown:p,handleMousedown:f}=K(xe,void 0),v=Ye(l,m,a),w=M(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),i=x(h=>{const{code:g}=h;if(g===T.enter||g===T.space)return h.preventDefault(),h.stopImmediatePropagation(),n("clickimpl",h),!0},p);return{ns:o,itemRef:v,dataset:{[Wn]:""},role:w,tabIndex:u,handleFocus:r,handleKeydown:i,handleMousedown:f}}}),Eo=["aria-disabled","tabindex","role"];function $o(e,n,o,t,l,m){const a=L("el-icon");return G(),ee(Ie,null,[e.divided?(G(),ee("li",re({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):$e("v-if",!0),V("li",re({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n[0]||(n[0]=u=>e.$emit("clickimpl",u)),onFocus:n[1]||(n[1]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onKeydown:n[2]||(n[2]=Se((...u)=>e.handleKeydown&&e.handleKeydown(...u),["self"])),onMousedown:n[3]||(n[3]=(...u)=>e.handleMousedown&&e.handleMousedown(...u)),onPointermove:n[4]||(n[4]=u=>e.$emit("pointermove",u)),onPointerleave:n[5]||(n[5]=u=>e.$emit("pointerleave",u))}),[e.icon?(G(),X(a,{key:0},{default:I(()=>[(G(),X(Ue(e.icon)))]),_:1})):$e("v-if",!0),W(e.$slots,"default")],16,Eo)],64)}var So=Z(Mo,[["render",$o],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Ze=()=>{const e=K("elDropdown",{}),n=M(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:n}},To=j({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Vn,ElRovingFocusItem:_o,ElDropdownItemImpl:So},inheritAttrs:!1,props:Je,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:o}){const{elDropdown:t}=Ze(),l=ce(),m=$(null),a=M(()=>{var i,h;return(h=(i=Y(m))==null?void 0:i.textContent)!=null?h:""}),{onItemEnter:u,onItemLeave:r}=K(ye,void 0),p=x(i=>(n("pointermove",i),i.defaultPrevented),ze(i=>{if(e.disabled){r(i);return}const h=i.currentTarget;h===document.activeElement||h.contains(document.activeElement)||(u(i),i.defaultPrevented||h==null||h.focus())})),f=x(i=>(n("pointerleave",i),i.defaultPrevented),ze(i=>{r(i)})),v=x(i=>{if(!e.disabled)return n("click",i),i.type!=="keydown"&&i.defaultPrevented},i=>{var h,g,_;if(e.disabled){i.stopImmediatePropagation();return}(h=t==null?void 0:t.hideOnClick)!=null&&h.value&&((g=t.handleClick)==null||g.call(t)),(_=t.commandHandler)==null||_.call(t,e.command,l,i)}),w=M(()=>({...e,...o}));return{handleClick:v,handlePointerMove:p,handlePointerLeave:f,textContent:a,propsAndAttrs:w}}});function ko(e,n,o,t,l,m){var a;const u=L("el-dropdown-item-impl"),r=L("el-roving-focus-item"),p=L("el-dropdown-collection-item");return G(),X(p,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:I(()=>[E(r,{focusable:!e.disabled},{default:I(()=>[E(u,re(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:I(()=>[W(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Qe=Z(To,[["render",ko],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Oo=j({name:"ElDropdownMenu",props:Yn,setup(e){const n=q("dropdown"),{_elDropdownSize:o}=Ze(),t=o.value,{focusTrapRef:l,onKeydown:m}=K(zn,void 0),{contentRef:a,role:u,triggerId:r}=K(ye,void 0),{collectionRef:p,getItems:f}=K(jn,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:w,tabIndex:i,onBlur:h,onFocus:g,onMousedown:_}=K(Fe,void 0),{collectionRef:k}=K(Ne,void 0),O=M(()=>[n.b("menu"),n.bm("menu",t==null?void 0:t.value)]),H=Ye(a,p,l,v,k),N=x(S=>{var z;(z=e.onKeydown)==null||z.call(e,S)},S=>{const{currentTarget:z,code:A,target:F}=S;if(z.contains(F),T.tab===A&&S.stopImmediatePropagation(),S.preventDefault(),F!==Y(a)||!Jn.includes(A))return;const c=f().filter(d=>!d.disabled).map(d=>d.ref);qn.includes(A)&&c.reverse(),Re(c)});return{size:t,rovingFocusGroupRootStyle:w,tabIndex:i,dropdownKls:O,role:u,triggerId:r,dropdownListWrapperRef:H,handleKeydown:S=>{N(S),m(S)},onBlur:h,onFocus:g,onMousedown:_}}}),No=["role","aria-labelledby"];function Fo(e,n,o,t,l,m){return G(),ee("ul",{ref:e.dropdownListWrapperRef,class:te(e.dropdownKls),style:pn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:n[0]||(n[0]=(...a)=>e.onBlur&&e.onBlur(...a)),onFocus:n[1]||(n[1]=(...a)=>e.onFocus&&e.onFocus(...a)),onKeydown:n[2]||(n[2]=Se((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:n[3]||(n[3]=Se((...a)=>e.onMousedown&&e.onMousedown(...a),["self"]))},[W(e.$slots,"default")],46,No)}var Xe=Z(Oo,[["render",Fo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Ro=We(Co,{DropdownItem:Qe,DropdownMenu:Xe}),Po=de(Qe),Bo=de(Xe);let Do=class{constructor(n,o){this.parent=n,this.domNode=o,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,o=>{o.addEventListener("keydown",t=>{let l=!1;switch(t.code){case T.down:{this.gotoSubIndex(this.subIndex+1),l=!0;break}case T.up:{this.gotoSubIndex(this.subIndex-1),l=!0;break}case T.tab:{he(n,"mouseleave");break}case T.enter:case T.space:{l=!0,t.currentTarget.click();break}}return l&&(t.preventDefault(),t.stopPropagation()),!1})})}},zo=class{constructor(n,o){this.domNode=n,this.submenu=null,this.submenu=null,this.init(o)}init(n){this.domNode.setAttribute("tabindex","0");const o=this.domNode.querySelector(`.${n}-menu`);o&&(this.submenu=new Do(this,o)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let o=!1;switch(n.code){case T.down:{he(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break}case T.up:{he(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break}case T.tab:{he(n.currentTarget,"mouseleave");break}case T.enter:case T.space:{o=!0,n.currentTarget.click();break}}o&&n.preventDefault()})}},Ao=class{constructor(n,o){this.domNode=n,this.init(o)}init(n){const o=this.domNode.childNodes;Array.from(o).forEach(t=>{t.nodeType===1&&new zo(t,n)})}};const Lo=j({name:"ElMenuCollapseTransition",setup(){const e=q("menu");return{listeners:{onBeforeEnter:o=>o.style.opacity="0.2",onEnter(o,t){me(o,`${e.namespace.value}-opacity-transition`),o.style.opacity="1",t()},onAfterEnter(o){Ce(o,`${e.namespace.value}-opacity-transition`),o.style.opacity=""},onBeforeLeave(o){o.dataset||(o.dataset={}),fn(o,e.m("collapse"))?(Ce(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),me(o,e.m("collapse"))):(me(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),Ce(o,e.m("collapse"))),o.style.width=`${o.scrollWidth}px`,o.style.overflow="hidden"},onLeave(o){me(o,"horizontal-collapse-transition"),o.style.width=`${o.dataset.scrollWidth}px`}}}}});function Ko(e,n,o,t,l,m){return G(),X(mn,re({mode:"out-in"},e.listeners),{default:I(()=>[W(e.$slots,"default")]),_:3},16)}var Go=Z(Lo,[["render",Ko],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function en(e,n){const o=M(()=>{let l=e.parent;const m=[n.value];for(;l.type.name!=="ElMenu";)l.props.index&&m.unshift(l.props.index),l=l.parent;return m});return{parentMenu:M(()=>{let l=e.parent;for(;l&&!["ElMenu","ElSubMenu"].includes(l.type.name);)l=l.parent;return l}),indexPath:o}}function Ho(e){return M(()=>{const o=e.backgroundColor;return o?new An(o).shade(20).toString():""})}const nn=(e,n)=>{const o=q("menu");return M(()=>o.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Ho(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},Uo=be({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:fe},expandOpenIcon:{type:fe},collapseCloseIcon:{type:fe},collapseOpenIcon:{type:fe}}),ve="ElSubMenu";var Pe=j({name:ve,props:Uo,setup(e,{slots:n,expose:o}){Zn({from:"popper-append-to-body",replacement:"teleported",scope:ve,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},M(()=>e.popperAppendToBody!==void 0));const t=ce(),{indexPath:l,parentMenu:m}=en(t,M(()=>e.index)),a=q("menu"),u=q("sub-menu"),r=K("rootMenu");r||ge(ve,"can not inject root menu");const p=K(`subMenu:${m.value.uid}`);p||ge(ve,"can not inject sub menu");const f=$({}),v=$({});let w;const i=$(!1),h=$(),g=$(null),_=M(()=>A.value==="horizontal"&&O.value?"bottom-start":"right-start"),k=M(()=>A.value==="horizontal"&&O.value||A.value==="vertical"&&!r.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?S.value?e.expandOpenIcon:e.expandCloseIcon:He:e.collapseCloseIcon&&e.collapseOpenIcon?S.value?e.collapseOpenIcon:e.collapseCloseIcon:vn),O=M(()=>p.level===0),H=M(()=>{var C;const s=(C=e.teleported)!=null?C:e.popperAppendToBody;return s===void 0?O.value:s}),N=M(()=>r.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),D=M(()=>A.value==="horizontal"&&O.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=M(()=>r.openedMenus.includes(e.index)),z=M(()=>{let C=!1;return Object.values(f.value).forEach(s=>{s.active&&(C=!0)}),Object.values(v.value).forEach(s=>{s.active&&(C=!0)}),C}),A=M(()=>r.props.mode),F=ke({index:e.index,indexPath:l,active:z}),Q=nn(r.props,p.level+1),c=()=>{var C,s,y;return(y=(s=(C=g.value)==null?void 0:C.popperRef)==null?void 0:s.popperInstanceRef)==null?void 0:y.destroy()},d=C=>{C||c()},b=()=>{r.props.menuTrigger==="hover"&&r.props.mode==="horizontal"||r.props.collapse&&r.props.mode==="vertical"||e.disabled||r.handleSubMenuClick({index:e.index,indexPath:l.value,active:z.value})},R=(C,s=e.showTimeout)=>{var y;C.type!=="focus"&&(r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"||e.disabled||(p.mouseInChild.value=!0,w==null||w(),{stop:w}=De(()=>{r.openMenu(e.index,l.value)},s),H.value&&((y=m.value.vnode.el)==null||y.dispatchEvent(new MouseEvent("mouseenter")))))},P=(C=!1)=>{var s,y;r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"||(w==null||w(),p.mouseInChild.value=!1,{stop:w}=De(()=>!i.value&&r.closeMenu(e.index,l.value),e.hideTimeout),H.value&&C&&((s=t.parent)==null?void 0:s.type.name)==="ElSubMenu"&&((y=p.handleMouseleave)==null||y.call(p,!0)))};ne(()=>r.props.collapse,C=>d(!!C));{const C=y=>{v.value[y.index]=y},s=y=>{delete v.value[y.index]};oe(`subMenu:${t.uid}`,{addSubMenu:C,removeSubMenu:s,handleMouseleave:P,mouseInChild:i,level:p.level+1})}return o({opened:S}),we(()=>{r.addSubMenu(F),p.addSubMenu(F)}),_e(()=>{p.removeSubMenu(F),r.removeSubMenu(F)}),()=>{var C;const s=[(C=n.title)==null?void 0:C.call(n),U(ue,{class:u.e("icon-arrow"),style:{transform:S.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&r.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ae(k.value)?U(t.appContext.components[k.value]):U(k.value)})],y=r.isMenuPopup?U(Oe,{ref:g,visible:S.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:_.value,teleported:H.value,fallbackPlacements:D.value,transition:N.value,gpuAcceleration:!1},{content:()=>{var B;return U("div",{class:[a.m(A.value),a.m("popup-container"),e.popperClass],onMouseenter:J=>R(J,100),onMouseleave:()=>P(!0),onFocus:J=>R(J,100)},[U("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${_.value}`)],style:Q.value},[(B=n.default)==null?void 0:B.call(n)])])},default:()=>U("div",{class:u.e("title"),onClick:b},s)}):U(Ie,{},[U("div",{class:u.e("title"),ref:h,onClick:b},s),U(xn,{},{default:()=>{var B;return hn(U("ul",{role:"menu",class:[a.b(),a.m("inline")],style:Q.value},[(B=n.default)==null?void 0:B.call(n)]),[[gn,S.value]])}})]);return U("li",{class:[u.b(),u.is("active",z.value),u.is("opened",S.value),u.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:R,onMouseleave:()=>P(!0),onFocus:R},[y])}}});const Wo=be({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:se(Array),default:()=>_n([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),Me=e=>Array.isArray(e)&&e.every(n=>ae(n)),Vo={close:(e,n)=>ae(e)&&Me(n),open:(e,n)=>ae(e)&&Me(n),select:(e,n,o,t)=>ae(e)&&Me(n)&&In(o)&&(t===void 0||t instanceof Promise)};var Yo=j({name:"ElMenu",props:Wo,emits:Vo,setup(e,{emit:n,slots:o,expose:t}){const l=ce(),m=l.appContext.config.globalProperties.$router,a=$(),u=q("menu"),r=q("sub-menu"),p=$(-1),f=$(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),v=$(e.defaultActive),w=$({}),i=$({}),h=M(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),g=()=>{const c=v.value&&w.value[v.value];if(!c||e.mode==="horizontal"||e.collapse)return;c.indexPath.forEach(b=>{const R=i.value[b];R&&_(b,R.indexPath)})},_=(c,d)=>{f.value.includes(c)||(e.uniqueOpened&&(f.value=f.value.filter(b=>d.includes(b))),f.value.push(c),n("open",c,d))},k=c=>{const d=f.value.indexOf(c);d!==-1&&f.value.splice(d,1)},O=(c,d)=>{k(c),n("close",c,d)},H=({index:c,indexPath:d})=>{f.value.includes(c)?O(c,d):_(c,d)},N=c=>{(e.mode==="horizontal"||e.collapse)&&(f.value=[]);const{index:d,indexPath:b}=c;if(!(Ae(d)||Ae(b)))if(e.router&&m){const R=c.route||d,P=m.push(R).then(C=>(C||(v.value=d),C));n("select",d,b,{index:d,indexPath:b,route:R},P)}else v.value=d,n("select",d,b,{index:d,indexPath:b})},D=c=>{const d=w.value,b=d[c]||v.value&&d[v.value]||d[e.defaultActive];b?v.value=b.index:v.value=c},S=()=>{var c,d;if(!a.value)return-1;const b=Array.from((d=(c=a.value)==null?void 0:c.childNodes)!=null?d:[]).filter(J=>J.nodeName!=="#comment"&&(J.nodeName!=="#text"||J.nodeValue)),R=64,P=Number.parseInt(getComputedStyle(a.value).paddingLeft,10),C=Number.parseInt(getComputedStyle(a.value).paddingRight,10),s=a.value.clientWidth-P-C;let y=0,B=0;return b.forEach((J,pe)=>{y+=J.offsetWidth||0,y<=s-R&&(B=pe+1)}),B===b.length?-1:B},z=(c,d=33.34)=>{let b;return()=>{b&&clearTimeout(b),b=setTimeout(()=>{c()},d)}};let A=!0;const F=()=>{const c=()=>{p.value=-1,Ge(()=>{p.value=S()})};A?c():z(c)(),A=!1};ne(()=>e.defaultActive,c=>{w.value[c]||(v.value=""),D(c)}),ne(()=>e.collapse,c=>{c&&(f.value=[])}),ne(w.value,g);let Q;bn(()=>{e.mode==="horizontal"&&e.ellipsis?Q=wn(a,F).stop:Q==null||Q()});{const c=P=>{i.value[P.index]=P},d=P=>{delete i.value[P.index]};oe("rootMenu",ke({props:e,openedMenus:f,items:w,subMenus:i,activeIndex:v,isMenuPopup:h,addMenuItem:P=>{w.value[P.index]=P},removeMenuItem:P=>{delete w.value[P.index]},addSubMenu:c,removeSubMenu:d,openMenu:_,closeMenu:O,handleMenuItemClick:N,handleSubMenuClick:H})),oe(`subMenu:${l.uid}`,{addSubMenu:c,removeSubMenu:d,mouseInChild:$(!1),level:0})}return we(()=>{e.mode==="horizontal"&&new Ao(l.vnode.el,u.namespace.value)}),t({open:d=>{const{indexPath:b}=i.value[d];b.forEach(R=>_(R,b))},close:k,handleResize:F}),()=>{var c,d;let b=(d=(c=o.default)==null?void 0:c.call(o))!=null?d:[];const R=[];if(e.mode==="horizontal"&&a.value){const s=Qn(b),y=p.value===-1?s:s.slice(0,p.value),B=p.value===-1?[]:s.slice(p.value);B!=null&&B.length&&e.ellipsis&&(b=y,R.push(U(Pe,{index:"sub-menu-more",class:r.e("hide-arrow")},{title:()=>U(ue,{class:r.e("icon-more")},{default:()=>U(yn)}),default:()=>B})))}const P=nn(e,0),C=U("ul",{key:String(e.collapse),role:"menubar",ref:a,style:P.value,class:{[u.b()]:!0,[u.m(e.mode)]:!0,[u.m("collapse")]:e.collapse}},[...b,...R]);return e.collapseTransition&&e.mode==="vertical"?U(Go,()=>C):C}}});const jo=be({index:{type:se([String,null]),default:null},route:{type:se([String,Object])},disabled:Boolean}),Jo={click:e=>ae(e.index)&&Array.isArray(e.indexPath)},Ee="ElMenuItem",qo=j({name:Ee,components:{ElTooltip:Oe},props:jo,emits:Jo,setup(e,{emit:n}){const o=ce(),t=K("rootMenu"),l=q("menu"),m=q("menu-item");t||ge(Ee,"can not inject root menu");const{parentMenu:a,indexPath:u}=en(o,le(e,"index")),r=K(`subMenu:${a.value.uid}`);r||ge(Ee,"can not inject sub menu");const p=M(()=>e.index===t.activeIndex),f=ke({index:e.index,indexPath:u,active:p}),v=()=>{e.disabled||(t.handleMenuItemClick({index:e.index,indexPath:u.value,route:e.route}),n("click",f))};return we(()=>{r.addSubMenu(f),t.addMenuItem(f)}),_e(()=>{r.removeSubMenu(f),t.removeMenuItem(f)}),{parentMenu:a,rootMenu:t,active:p,nsMenu:l,nsMenuItem:m,handleClick:v}}});function xo(e,n,o,t,l,m){const a=L("el-tooltip");return G(),ee("li",{class:te([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...u)=>e.handleClick&&e.handleClick(...u))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(G(),X(a,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:I(()=>[W(e.$slots,"title")]),default:I(()=>[V("div",{class:te(e.nsMenu.be("tooltip","trigger"))},[W(e.$slots,"default")],2)]),_:3},8,["effect"])):(G(),ee(Ie,{key:1},[W(e.$slots,"default"),W(e.$slots,"title")],64))],2)}var on=Z(qo,[["render",xo],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Zo={title:String},Qo="ElMenuItemGroup",Xo=j({name:Qo,props:Zo,setup(){return{ns:q("menu-item-group")}}});function et(e,n,o,t,l,m){return G(),ee("li",{class:te(e.ns.b())},[V("div",{class:te(e.ns.e("title"))},[e.$slots.title?W(e.$slots,"title",{key:1}):(G(),ee(Ie,{key:0},[Te(Ve(e.title),1)],64))],2),V("ul",null,[W(e.$slots,"default")])],2)}var tn=Z(Xo,[["render",et],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const nt=We(Yo,{MenuItem:on,MenuItemGroup:tn,SubMenu:Pe}),ot=de(on);de(tn);de(Pe);const tt="/assets/messagechannel-d0df024f.svg",ie=e=>(Rn("data-v-5ece29d6"),e=e(),Pn(),e),st={class:"home-container"},lt={class:"header"},at=ie(()=>V("img",{src:tt},null,-1)),rt=ie(()=>V("span",{style:{"font-size":"20px"}},"Clients",-1)),it=ie(()=>V("span",{style:{"font-size":"20px"}},"Subscriptions",-1)),ut=ie(()=>V("span",{style:{"font-size":"20px"}},"Config",-1)),ct=ie(()=>V("span",{style:{"font-size":"20px"}},"Debug",-1)),dt=ie(()=>V("div",{style:{"flex-grow":"1"}},null,-1)),pt={class:"user-menu"},mt={style:{display:"flex","align-items":"center"}},ft={style:{"font-size":"18px","padding-left":"5px"}},vt={class:"content"},ht=j({__name:"Home",setup(e){const n=$("/home/node"),o=Cn(),t=h=>{h=="logout"?(Nn({message:"Logout Success",type:"success",duration:1e3}),o.$reset(),l.push({name:"/"})):h=="setting"&&l.push({name:"Setting"})},l=Mn(),m=En(),a=$n(),u=Sn(),r=Tn(),p=$(r.data.refresh_time),f=$(),v=$(!1);ne(()=>r.data.refresh_time,h=>{p.value=h,clearInterval(f.value),w()});const w=()=>{p.value!==0&&(v.value||(f.value=setInterval(()=>{i()},p.value*1e3)))},i=async()=>{if(p.value!==0&&!v.value)try{v.value=!0,await m.getSystemInfo(),await a.getClientInfo(),await u.getSubscriptionInfo(),v.value=!1}catch(h){console.error("Error while refreshing data:",h),v.value=!1}};return _e(()=>{clearInterval(f.value)}),we(()=>{w(),l.push(n.value)}),(h,g)=>{const _=ot,k=Fn,O=ue,H=Po,N=Bo,D=Ro,S=nt,z=L("router-view");return G(),ee("div",st,[V("div",lt,[E(S,{router:!0,"default-active":n.value,mode:"horizontal",ellipsis:!1,class:"menu"},{default:I(()=>[E(_,{index:"/home/node"},{default:I(()=>[at]),_:1}),E(_,{index:"/home/clients"},{default:I(()=>[E(k,{iconName:"icon-kehuduanliebiao",style:{"font-size":"30px"}}),rt]),_:1}),E(_,{index:"/home/subscriptions"},{default:I(()=>[E(k,{iconName:"icon-dingyue",style:{"font-size":"30px"}}),it]),_:1}),E(_,{index:"/home/config"},{default:I(()=>[E(k,{iconName:"icon-peizhi1",style:{"font-size":"30px"}}),ut]),_:1}),E(_,{index:"/home/debug"},{default:I(()=>[E(k,{iconName:"icon-debug",style:{"font-size":"30px"}}),ct]),_:1}),dt,V("div",pt,[E(D,{onCommand:t,trigger:"click"},{dropdown:I(()=>[E(N,null,{default:I(()=>[E(H,{icon:Y(kn),command:"setting"},{default:I(()=>[Te("Setting")]),_:1},8,["icon"]),E(H,{command:"logout"},{default:I(()=>[E(k,{iconName:"icon-logout"}),Te("Logout ")]),_:1})]),_:1})]),default:I(()=>[V("span",mt,[E(O,{size:"30"},{default:I(()=>[E(Y(On))]),_:1}),V("span",ft,Ve(Y(o).data.username),1)])]),_:1})])]),_:1},8,["default-active"])]),V("div",vt,[E(z,null,{default:I(({Component:A})=>[(G(),X(Ue(A)))]),_:1})])])}}});const Nt=Bn(ht,[["__scopeId","data-v-5ece29d6"]]);export{Nt as default};
