import{aB as et,bI as ne,bD as O,az as wt,av as we,aw as re,bJ as St,ay as tt,at as Tt,bK as Se,bL as oe,bH as It,bM as V,p as y,bN as Et,P as at,r as k,b8 as te,v as ae,x as Ct,ar as At,an as Me,j as jt,ap as _t,k as pe,a4 as Be,a8 as Pt,a6 as de,d as ot,bO as $t,aq as zt,H as Ne,bo as kt,bP as Ot,bQ as Vt,aa as Ft,D as $,a0 as Mt,t as Bt,a2 as Nt,a3 as Rt,o as b,c as T,O as m,S as fe,N as x,g as n,y as Z,e as z,A as E,w as L,Q as J,F as D,M as ve,f as Lt,br as Dt,R as Ht,aG as Kt,ac as ee,T as Ut,_ as Wt,a9 as Re,U as Gt}from"./index-04406ec4.js";import{b as Yt,c as qt,d as Le}from"./use-form-item-687dd32a.js";import{u as Xt,a as Qt,i as Zt}from"./use-form-common-props-9dfb5ff5.js";const Jt=()=>et&&/firefox/i.test(window.navigator.userAgent);var ea=ne(O,"WeakMap");const be=ea;var ta=9007199254740991;function nt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ta}function aa(e){return e!=null&&nt(e.length)&&!wt(e)}var oa=Object.prototype;function na(e){var r=e&&e.constructor,o=typeof r=="function"&&r.prototype||oa;return e===o}function ra(e,r){for(var o=-1,a=Array(e);++o<e;)a[o]=r(o);return a}var sa="[object Arguments]";function De(e){return we(e)&&re(e)==sa}var rt=Object.prototype,ia=rt.hasOwnProperty,la=rt.propertyIsEnumerable,ua=De(function(){return arguments}())?De:function(e){return we(e)&&ia.call(e,"callee")&&!la.call(e,"callee")};const ca=ua;function pa(){return!1}var st=typeof exports=="object"&&exports&&!exports.nodeType&&exports,He=st&&typeof module=="object"&&module&&!module.nodeType&&module,da=He&&He.exports===st,Ke=da?O.Buffer:void 0,fa=Ke?Ke.isBuffer:void 0,va=fa||pa;const ya=va;var ba="[object Arguments]",ga="[object Array]",ma="[object Boolean]",ha="[object Date]",xa="[object Error]",wa="[object Function]",Sa="[object Map]",Ta="[object Number]",Ia="[object Object]",Ea="[object RegExp]",Ca="[object Set]",Aa="[object String]",ja="[object WeakMap]",_a="[object ArrayBuffer]",Pa="[object DataView]",$a="[object Float32Array]",za="[object Float64Array]",ka="[object Int8Array]",Oa="[object Int16Array]",Va="[object Int32Array]",Fa="[object Uint8Array]",Ma="[object Uint8ClampedArray]",Ba="[object Uint16Array]",Na="[object Uint32Array]",d={};d[$a]=d[za]=d[ka]=d[Oa]=d[Va]=d[Fa]=d[Ma]=d[Ba]=d[Na]=!0;d[ba]=d[ga]=d[_a]=d[ma]=d[Pa]=d[ha]=d[xa]=d[wa]=d[Sa]=d[Ta]=d[Ia]=d[Ea]=d[Ca]=d[Aa]=d[ja]=!1;function Ra(e){return we(e)&&nt(e.length)&&!!d[re(e)]}function La(e){return function(r){return e(r)}}var it=typeof exports=="object"&&exports&&!exports.nodeType&&exports,H=it&&typeof module=="object"&&module&&!module.nodeType&&module,Da=H&&H.exports===it,ye=Da&&St.process,Ha=function(){try{var e=H&&H.require&&H.require("util").types;return e||ye&&ye.binding&&ye.binding("util")}catch{}}();const Ue=Ha;var We=Ue&&Ue.isTypedArray,Ka=We?La(We):Ra;const Ua=Ka;var Wa=Object.prototype,Ga=Wa.hasOwnProperty;function Ya(e,r){var o=tt(e),a=!o&&ca(e),s=!o&&!a&&ya(e),l=!o&&!a&&!s&&Ua(e),u=o||a||s||l,g=u?ra(e.length,String):[],v=g.length;for(var f in e)(r||Ga.call(e,f))&&!(u&&(f=="length"||s&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Tt(f,v)))&&g.push(f);return g}function qa(e,r){return function(o){return e(r(o))}}var Xa=qa(Object.keys,Object);const Qa=Xa;var Za=Object.prototype,Ja=Za.hasOwnProperty;function eo(e){if(!na(e))return Qa(e);var r=[];for(var o in Object(e))Ja.call(e,o)&&o!="constructor"&&r.push(o);return r}function to(e){return aa(e)?Ya(e):eo(e)}function ao(e,r){for(var o=-1,a=r.length,s=e.length;++o<a;)e[s+o]=r[o];return e}function oo(){this.__data__=new Se,this.size=0}function no(e){var r=this.__data__,o=r.delete(e);return this.size=r.size,o}function ro(e){return this.__data__.get(e)}function so(e){return this.__data__.has(e)}var io=200;function lo(e,r){var o=this.__data__;if(o instanceof Se){var a=o.__data__;if(!oe||a.length<io-1)return a.push([e,r]),this.size=++o.size,this;o=this.__data__=new It(a)}return o.set(e,r),this.size=o.size,this}function K(e){var r=this.__data__=new Se(e);this.size=r.size}K.prototype.clear=oo;K.prototype.delete=no;K.prototype.get=ro;K.prototype.has=so;K.prototype.set=lo;function uo(e,r){for(var o=-1,a=e==null?0:e.length,s=0,l=[];++o<a;){var u=e[o];r(u,o,e)&&(l[s++]=u)}return l}function co(){return[]}var po=Object.prototype,fo=po.propertyIsEnumerable,Ge=Object.getOwnPropertySymbols,vo=Ge?function(e){return e==null?[]:(e=Object(e),uo(Ge(e),function(r){return fo.call(e,r)}))}:co;const yo=vo;function bo(e,r,o){var a=r(e);return tt(e)?a:ao(a,o(e))}function Yo(e){return bo(e,to,yo)}var go=ne(O,"DataView");const ge=go;var mo=ne(O,"Promise");const me=mo;var ho=ne(O,"Set");const he=ho;var Ye="[object Map]",xo="[object Object]",qe="[object Promise]",Xe="[object Set]",Qe="[object WeakMap]",Ze="[object DataView]",wo=V(ge),So=V(oe),To=V(me),Io=V(he),Eo=V(be),A=re;(ge&&A(new ge(new ArrayBuffer(1)))!=Ze||oe&&A(new oe)!=Ye||me&&A(me.resolve())!=qe||he&&A(new he)!=Xe||be&&A(new be)!=Qe)&&(A=function(e){var r=re(e),o=r==xo?e.constructor:void 0,a=o?V(o):"";if(a)switch(a){case wo:return Ze;case So:return Ye;case To:return qe;case Io:return Xe;case Eo:return Qe}return r});const qo=A;var Co=O.Uint8Array;const Xo=Co,xe="update:modelValue",Qo="change",Zo="input",Ao=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),jo=["class","style"],_o=/^on[A-Z]/,Po=(e={})=>{const{excludeListeners:r=!1,excludeKeys:o}=e,a=y(()=>((o==null?void 0:o.value)||[]).concat(jo)),s=at();return s?y(()=>{var l;return Et(Object.entries((l=s.proxy)==null?void 0:l.$attrs).filter(([u])=>!a.value.includes(u)&&!(r&&_o.test(u))))}):y(()=>({}))};function $o(e){const r=k();function o(){if(e.value==null)return;const{selectionStart:s,selectionEnd:l,value:u}=e.value;if(s==null||l==null)return;const g=u.slice(0,Math.max(0,s)),v=u.slice(Math.max(0,l));r.value={selectionStart:s,selectionEnd:l,value:u,beforeTxt:g,afterTxt:v}}function a(){if(e.value==null||r.value==null)return;const{value:s}=e.value,{beforeTxt:l,afterTxt:u,selectionStart:g}=r.value;if(l==null||u==null||g==null)return;let v=s.length;if(s.endsWith(u))v=s.length-u.length;else if(s.startsWith(l))v=l.length;else{const f=l[g-1],S=s.indexOf(f,g-1);S!==-1&&(v=S+1)}e.value.setSelectionRange(v,v)}return[o,a]}function zo(e,{afterFocus:r,beforeBlur:o,afterBlur:a}={}){const s=at(),{emit:l}=s,u=te(),g=k(!1),v=c=>{g.value||(g.value=!0,l("focus",c),r==null||r())},f=c=>{var F;At(o)&&o(c)||c.relatedTarget&&((F=u.value)!=null&&F.contains(c.relatedTarget))||(g.value=!1,l("blur",c),a==null||a())},S=()=>{var c;(c=e.value)==null||c.focus()};return ae(u,c=>{c&&c.setAttribute("tabindex","-1")}),Ct(u,"click",S),{wrapperRef:u,isFocused:g,handleFocus:v,handleBlur:f}}let w;const ko=`
  height:0 !important;
  visibility:hidden !important;
  ${Jt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Oo=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Vo(e){const r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing"),a=Number.parseFloat(r.getPropertyValue("padding-bottom"))+Number.parseFloat(r.getPropertyValue("padding-top")),s=Number.parseFloat(r.getPropertyValue("border-bottom-width"))+Number.parseFloat(r.getPropertyValue("border-top-width"));return{contextStyle:Oo.map(u=>`${u}:${r.getPropertyValue(u)}`).join(";"),paddingSize:a,borderSize:s,boxSizing:o}}function Je(e,r=1,o){var a;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:s,borderSize:l,boxSizing:u,contextStyle:g}=Vo(e);w.setAttribute("style",`${g};${ko}`),w.value=e.value||e.placeholder||"";let v=w.scrollHeight;const f={};u==="border-box"?v=v+l:u==="content-box"&&(v=v-s),w.value="";const S=w.scrollHeight-s;if(Me(r)){let c=S*r;u==="border-box"&&(c=c+s+l),v=Math.max(c,v),f.minHeight=`${c}px`}if(Me(o)){let c=S*o;u==="border-box"&&(c=c+s+l),v=Math.min(c,v)}return f.height=`${v}px`,(a=w.parentNode)==null||a.removeChild(w),w=void 0,f}const Fo=jt({id:{type:String,default:void 0},size:_t,disabled:Boolean,modelValue:{type:pe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:pe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Be},prefixIcon:{type:Be},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:pe([Object,Array,String]),default:()=>Pt({})},autofocus:{type:Boolean,default:!1}}),Mo={[xe]:e=>de(e),input:e=>de(e),change:e=>de(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Bo=["role"],No=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Ro=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Lo=ot({name:"ElInput",inheritAttrs:!1}),Do=ot({...Lo,props:Fo,emits:Mo,setup(e,{expose:r,emit:o}){const a=e,s=$t(),l=zt(),u=y(()=>{const t={};return a.containerRole==="combobox"&&(t["aria-haspopup"]=s["aria-haspopup"],t["aria-owns"]=s["aria-owns"],t["aria-expanded"]=s["aria-expanded"]),t}),g=y(()=>[a.type==="textarea"?Ie.b():p.b(),p.m(Te.value),p.is("disabled",j.value),p.is("exceed",pt.value),{[p.b("group")]:l.prepend||l.append,[p.bm("group","append")]:l.append,[p.bm("group","prepend")]:l.prepend,[p.m("prefix")]:l.prefix||a.prefixIcon,[p.m("suffix")]:l.suffix||a.suffixIcon||a.clearable||a.showPassword,[p.bm("suffix","password-clear")]:X.value&&le.value},s.class]),v=y(()=>[p.e("wrapper"),p.is("focus",ie.value)]),f=Po({excludeKeys:y(()=>Object.keys(u.value))}),{form:S,formItem:c}=Yt(),{inputId:F}=qt(a,{formItemContext:c}),Te=Xt(),j=Qt(),p=Ne("input"),Ie=Ne("textarea"),U=te(),I=te(),se=k(!1),M=k(!1),W=k(!1),Ee=k(),G=te(a.inputStyle),_=y(()=>U.value||I.value),{wrapperRef:lt,isFocused:ie,handleFocus:Y,handleBlur:q}=zo(_,{afterBlur(){var t;a.validateEvent&&((t=c==null?void 0:c.validate)==null||t.call(c,"blur").catch(i=>Le()))}}),Ce=y(()=>{var t;return(t=S==null?void 0:S.statusIcon)!=null?t:!1}),B=y(()=>(c==null?void 0:c.validateState)||""),Ae=y(()=>B.value&&kt[B.value]),ut=y(()=>W.value?Ot:Vt),ct=y(()=>[s.style,a.inputStyle]),je=y(()=>[a.inputStyle,G.value,{resize:a.resize}]),C=y(()=>Zt(a.modelValue)?"":String(a.modelValue)),X=y(()=>a.clearable&&!j.value&&!a.readonly&&!!C.value&&(ie.value||se.value)),le=y(()=>a.showPassword&&!j.value&&!a.readonly&&!!C.value&&(!!C.value||ie.value)),P=y(()=>a.showWordLimit&&!!f.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!j.value&&!a.readonly&&!a.showPassword),ue=y(()=>C.value.length),pt=y(()=>!!P.value&&ue.value>Number(f.value.maxlength)),dt=y(()=>!!l.suffix||!!a.suffixIcon||X.value||a.showPassword||P.value||!!B.value&&Ce.value),[ft,vt]=$o(U);Ft(I,t=>{if(yt(),!P.value||a.resize!=="both")return;const i=t[0],{width:h}=i.contentRect;Ee.value={right:`calc(100% - ${h+15+6}px)`}});const N=()=>{const{type:t,autosize:i}=a;if(!(!et||t!=="textarea"||!I.value))if(i){const h=Re(i)?i.minRows:void 0,Q=Re(i)?i.maxRows:void 0,Fe=Je(I.value,h,Q);G.value={overflowY:"hidden",...Fe},$(()=>{I.value.offsetHeight,G.value=Fe})}else G.value={minHeight:Je(I.value).minHeight}},yt=(t=>{let i=!1;return()=>{var h;if(i||!a.autosize)return;((h=I.value)==null?void 0:h.offsetParent)===null||(t(),i=!0)}})(N),R=()=>{const t=_.value,i=a.formatter?a.formatter(C.value):C.value;!t||t.value===i||(t.value=i)},ce=async t=>{ft();let{value:i}=t.target;if(a.formatter&&(i=a.parser?a.parser(i):i),!M.value){if(i===C.value){R();return}o(xe,i),o("input",i),await $(),R(),vt()}},_e=t=>{o("change",t.target.value)},Pe=t=>{o("compositionstart",t),M.value=!0},$e=t=>{var i;o("compositionupdate",t);const h=(i=t.target)==null?void 0:i.value,Q=h[h.length-1]||"";M.value=!Ao(Q)},ze=t=>{o("compositionend",t),M.value&&(M.value=!1,ce(t))},bt=()=>{W.value=!W.value,ke()},ke=async()=>{var t;await $(),(t=_.value)==null||t.focus()},gt=()=>{var t;return(t=_.value)==null?void 0:t.blur()},mt=t=>{se.value=!1,o("mouseleave",t)},ht=t=>{se.value=!0,o("mouseenter",t)},Oe=t=>{o("keydown",t)},xt=()=>{var t;(t=_.value)==null||t.select()},Ve=()=>{o(xe,""),o("change",""),o("clear"),o("input","")};return ae(()=>a.modelValue,()=>{var t;$(()=>N()),a.validateEvent&&((t=c==null?void 0:c.validate)==null||t.call(c,"change").catch(i=>Le()))}),ae(C,()=>R()),ae(()=>a.type,async()=>{await $(),R(),N()}),Mt(()=>{!a.formatter&&a.parser,R(),$(N)}),r({input:U,textarea:I,ref:_,textareaStyle:je,autosize:Bt(a,"autosize"),focus:ke,blur:gt,select:xt,clear:Ve,resizeTextarea:N}),(t,i)=>Nt((b(),T("div",ve(n(u),{class:n(g),style:n(ct),role:t.containerRole,onMouseenter:ht,onMouseleave:mt}),[m(" input "),t.type!=="textarea"?(b(),T(fe,{key:0},[m(" prepend slot "),t.$slots.prepend?(b(),T("div",{key:0,class:x(n(p).be("group","prepend"))},[Z(t.$slots,"prepend")],2)):m("v-if",!0),z("div",{ref_key:"wrapperRef",ref:lt,class:x(n(v))},[m(" prefix slot "),t.$slots.prefix||t.prefixIcon?(b(),T("span",{key:0,class:x(n(p).e("prefix"))},[z("span",{class:x(n(p).e("prefix-inner"))},[Z(t.$slots,"prefix"),t.prefixIcon?(b(),E(n(D),{key:0,class:x(n(p).e("icon"))},{default:L(()=>[(b(),E(J(t.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),z("input",ve({id:n(F),ref_key:"input",ref:U,class:n(p).e("inner")},n(f),{type:t.showPassword?W.value?"text":"password":t.type,disabled:n(j),formatter:t.formatter,parser:t.parser,readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.label,placeholder:t.placeholder,style:t.inputStyle,form:a.form,autofocus:a.autofocus,onCompositionstart:Pe,onCompositionupdate:$e,onCompositionend:ze,onInput:ce,onFocus:i[0]||(i[0]=(...h)=>n(Y)&&n(Y)(...h)),onBlur:i[1]||(i[1]=(...h)=>n(q)&&n(q)(...h)),onChange:_e,onKeydown:Oe}),null,16,No),m(" suffix slot "),n(dt)?(b(),T("span",{key:1,class:x(n(p).e("suffix"))},[z("span",{class:x(n(p).e("suffix-inner"))},[!n(X)||!n(le)||!n(P)?(b(),T(fe,{key:0},[Z(t.$slots,"suffix"),t.suffixIcon?(b(),E(n(D),{key:0,class:x(n(p).e("icon"))},{default:L(()=>[(b(),E(J(t.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),n(X)?(b(),E(n(D),{key:1,class:x([n(p).e("icon"),n(p).e("clear")]),onMousedown:Ht(n(Kt),["prevent"]),onClick:Ve},{default:L(()=>[Lt(n(Dt))]),_:1},8,["class","onMousedown"])):m("v-if",!0),n(le)?(b(),E(n(D),{key:2,class:x([n(p).e("icon"),n(p).e("password")]),onClick:bt},{default:L(()=>[(b(),E(J(n(ut))))]),_:1},8,["class"])):m("v-if",!0),n(P)?(b(),T("span",{key:3,class:x(n(p).e("count"))},[z("span",{class:x(n(p).e("count-inner"))},ee(n(ue))+" / "+ee(n(f).maxlength),3)],2)):m("v-if",!0),n(B)&&n(Ae)&&n(Ce)?(b(),E(n(D),{key:4,class:x([n(p).e("icon"),n(p).e("validateIcon"),n(p).is("loading",n(B)==="validating")])},{default:L(()=>[(b(),E(J(n(Ae))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),t.$slots.append?(b(),T("div",{key:1,class:x(n(p).be("group","append"))},[Z(t.$slots,"append")],2)):m("v-if",!0)],64)):(b(),T(fe,{key:1},[m(" textarea "),z("textarea",ve({id:n(F),ref_key:"textarea",ref:I,class:n(Ie).e("inner")},n(f),{tabindex:t.tabindex,disabled:n(j),readonly:t.readonly,autocomplete:t.autocomplete,style:n(je),"aria-label":t.label,placeholder:t.placeholder,form:a.form,autofocus:a.autofocus,onCompositionstart:Pe,onCompositionupdate:$e,onCompositionend:ze,onInput:ce,onFocus:i[2]||(i[2]=(...h)=>n(Y)&&n(Y)(...h)),onBlur:i[3]||(i[3]=(...h)=>n(q)&&n(q)(...h)),onChange:_e,onKeydown:Oe}),null,16,Ro),n(P)?(b(),T("span",{key:0,style:Ut(Ee.value),class:x(n(p).e("count"))},ee(n(ue))+" / "+ee(n(f).maxlength),7)):m("v-if",!0)],64))],16,Bo)),[[Rt,t.type!=="hidden"]])}});var Ho=Wt(Do,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Jo=Gt(Ho);export{Qo as C,Jo as E,Zo as I,K as S,xe as U,ya as a,Ua as b,ca as c,ao as d,Ao as e,na as f,Ya as g,yo as h,aa as i,bo as j,to as k,Xo as l,qo as m,Ue as n,qa as o,La as p,Yo as q,nt as r,co as s};
